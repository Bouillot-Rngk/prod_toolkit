<h1>Twitch</h1>

<h2>Preview</h2>
<div style="width: 960px; height: 540px; overflow: hidden">
  <iframe
    id="prediction-gfx"
    width="1920"
    height="1080"
    style="transform: scale(0.5); transform-origin: 0 0"
  ></iframe>
</div>

<h2>Embed</h2>
<input style="width: 100%" readonly id="prediction-embed" class="mb-5" />

<div class="d-flex mb-3">
  <div class="btn-group mr-3 align-items-center">
    <button type="button" class="btn btn-success" onclick="startPrediction()">
      Start Prediction
    </button>
    <button
      type="button"
      class="btn btn-success dropdown-toggle dropdown-toggle-split"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <div class="dropdown-menu">
      <button
        class="dropdown-item"
        onclick="window.getActionLink(
          'module-twitch',
          'start-prediction'
        )"
      >
        Copy Action-Link
      </button>
    </div>
  </div>

  <div class="btn-group mr-3">
    <button type="button" class="btn btn-danger" onclick="cancelPrediction()">
      Cancel Prediction
    </button>
    <button
      type="button"
      class="btn btn-danger dropdown-toggle dropdown-toggle-split"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <div class="dropdown-menu">
      <button
        class="dropdown-item"
        onclick="window.getActionLink(
          'module-twitch',
          'cancel-prediction'
        )"
      >
        Copy Action-Link
      </button>
    </div>
  </div>

  <div class="btn-group mr-3">
    <button type="button" class="btn btn-secondary" onclick="showPrediction()">
      Show Prediction
    </button>
    <button
      type="button"
      class="btn btn-secondary dropdown-toggle dropdown-toggle-split"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <div class="dropdown-menu">
      <button
        class="dropdown-item"
        onclick="
        window.getActionLink(
          'module-twitch',
          'show-prediction'
        )"
      >
        Copy Action-Link
      </button>
    </div>
  </div>
  <div class="btn-group">
    <button type="button" class="btn btn-secondary" onclick="hidePrediction()">
      Hide Prediction
    </button>
    <button
      type="button"
      class="btn btn-secondary dropdown-toggle dropdown-toggle-split"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <div class="dropdown-menu">
      <button
        class="dropdown-item"
        onclick="window.getActionLink(
          'module-twitch',
          'hide-prediction'
        )"
      >
        Copy Action-Link
      </button>
    </div>
  </div>
</div>

<div class="d-flex mb-3 winningOutcome">
  <div class="mr-3">
    <select id="winningOutcome" class="form-control"></select>
  </div>

  <div class="btn-group">
    <button type="button" class="btn btn-primary" onclick="resolvePrediction()">
      Resolve Prediction
    </button>
    <button
      type="button"
      class="btn btn-primary dropdown-toggle dropdown-toggle-split"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <div class="dropdown-menu">
      <button
        class="dropdown-item"
        onclick="window.getActionLink(
          'module-twitch',
          'resolve-prediction'
        )"
      >
        Copy Action-Link
      </button>
    </div>
  </div>
</div>

<h2>Settings</h2>
<form id="settings" class="mb-5">
  <div class="form-group">
    <label for="broadcastLogin">Channel Name</label>
    <input
      type="text"
      class="form-control"
      id="broadcastLogin"
      placeholder="Channel Name"
    />
  </div>
  <div class="form-group">
    <label for="length">Prediction Length</label>
    <input
      type="number"
      min="1"
      step="1"
      max="1800"
      class="form-control"
      id="length"
      placeholder="Prediction Length"
    />
  </div>
  <div class="form-group">
    <label for="appId">Twitch App ID</label>
    <input
      type="password"
      autocomplete="new-password"
      class="form-control"
      id="appId"
      placeholder="Twitch App ID"
    />
    <small id="appIdHelp" class="form-text text-muted"
      >Can be found
      <a href="https://dev.twitch.tv/console/apps" target="_blank"
        >here</a
      ></small
    >
  </div>
  <div class="form-check mb-3">
    <div class="automation-check">
      <input
        class="form-check-input"
        type="checkbox"
        value=""
        id="automation"
        disabled
      />
      <label class="form-check-label" for="automation">
        Automate Predictions (Coming soon)
      </label>
    </div>
    <div class="usePoll-check">
      <input class="form-check-input" type="checkbox" value="" id="usePoll" />
      <label class="form-check-label" for="usePoll">
        Use Poll instead of Prediction
      </label>
    </div>
  </div>
  <div class="d-flex">
    <div class="form-group mr-3">
      <button type="submit" class="btn btn-primary">Save Settings</button>
    </div>
    <div class="form-group">
      <a
        id="twitch-auth"
        class="btn"
        style="background-color: #9146ff; color: white"
      >
        Authorize with Twitch
      </a>
    </div>
  </div>
</form>

<script src="/pages/op-module-twitch/frontend.js" defer></script>
